<!DOCTYPE html>
<html>
    <head>
        <style>
            * { 
                margin: 0; }
                .container { width: 100vw; height: 100vh; 
                overflow: hidden;
                }
            button {
                position: absolute;
                margin-top: -100px;
            }
        </style>
    </head>
    <body>
        <div class="container">  
            <canvas id="canvas" ></canvas>
            <button>Get <Object></Object></button>
        </div>
        <button onclick="activityObject()">Get User Data</button>

        <script src="./useractivity.js"></script>
        <script src="./data.js"></script>
        <script>
            canvas.width  = window.innerWidth;
            canvas.height = window.innerHeight;
            
            
            var dataPoints = [];
            var x;
            var y;

            function get(id) {
                return document.getElementById(id);
            }

            var heat = heatmap('canvas').data(data).max(18),
                frame;

            function draw() {
           
                heat.draw();
 
                frame = null;
            }

            draw();

            // Time each point is added
            setInterval(function checkMousePos(){
                document.addEventListener('mousemove', function(event){
                    x = event.pageX;
                    y = event.pageY;
                })
                if(x && y) {
                    heat.add([x, y, 0]);
                    frame = frame || window.requestAnimationFrame(draw);
                }
                x = null;
                y = null;
            }, 40);


            var radius = get('radius'),
                blur = get('blur'),
                changeType = 'oninput' in radius ? 'oninput' : 'onchange';

            radius[changeType] = blur[changeType] = function (e) {
                heat.radius(+radius.value, +blur.value);
                frame = frame || window.requestAnimationFrame(draw);
            };

   
        </script>
    </body>
</html>
